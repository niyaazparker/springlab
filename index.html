<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<link href="css/bootstrap.css" type="text/css" rel="stylesheet">
<link href="css/main.css" type="text/css" rel="stylesheet">
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>
<script src="js/angular.min.js" type="text/javascript" ></script>
<script src="js/main.js" type="text/javascript" ></script>
<script src="js/controllers.js" type="text/javascript" ></script>
<script src="js/modernizr.js" type="text/javascript" ></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.4.min.js"></script>
<script type="text/javascript">

// Load Video
function loadVideo(playerUrl, autoplay) {
  swfobject.embedSWF(
      playerUrl + '&rel=1&border=0&fs=1&showinfo=0&autohide=1&autoplay=' + 
      (autoplay?1:0), 'player', '450', '250', '9.0.0', false, 
      false, {allowfullscreen: 'true'});
}

// Get feed data and push thumbnails 
function showVideoList(data) {
  var feed = data.feed;
  var entries = feed.entry || [];
  var html = ['<ul class="videos">'];
  for (var i = 0; i < entries.length; i++) {
    var entry = entries[i];
    var title = entry.title.$t.substr(0, 20);
    var description = entries[i].media$group.media$description.$t.substr(0, 100);
    var thumbnailUrl = entries[i].media$group.media$thumbnail[0].url;
    var playerUrl = entries[i].media$group.media$content[0].url;
    var viewcount = entry.yt$statistics.viewCount;
    html.push('<li class="col-lg-12 col-md-12 col-xs-12"  onclick="loadVideo(\'', playerUrl, '\', true)">',
              '<div class="col-lg-4 col-md-4 col-xs-4"><img src="', 
              thumbnailUrl, '" width="130" height="97"/></div><div class="col-lg-8 col-md-8 col-xs-8"><span class="titlec">', title, '...</span><br><span class="views">Views: ', viewcount,'</span><span class="views">', description,'</span></li></div>');
  }
  html.push('</ul><br style="clear: left;"/>');
  document.getElementById('videoList').innerHTML = html.join('');

  // Load first video by default
  if (entries.length > 0) {
    loadVideo(entries[0].media$group.media$content[0].url, false);
  }
}
</script>
</head>





</head>
<body>

<div class="container">
	<div class="col-lg-5 col-md-5 col-xs-5" id="playerContainer"><object id="player"></object></div>
    <div class="col-lg-6 col-md-6 col-xs-6" id="videoList"></div>      
</div>

<!-- JSON Feed -->
<script type="text/javascript" src="https://gdata.youtube.com/feeds/api/standardfeeds/ZA/most_popular?alt=json-in-script&callback=showVideoList&max-results=9&orderby=viewCount">
</script>
</body>
</html>
